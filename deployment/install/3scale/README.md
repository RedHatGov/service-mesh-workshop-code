# 3Scale setup
The latest official install guide can be found here:
[TBD](1). 

Note that if you are using Istio too, you can leverage the [3scale adapter](2) by [following instructions here](3).

The simple version is:
1) Update the environment variables in 3scale-install.sh with the appropriate values. The OCP_ROUTE variable should be set to the wildcard domain of your cluster
2) Make sure you are `oc login`-ed as a cluster admin
3) Run ./3scale-install.sh
4) This will install an on-premise version of 3scale. The install will also update the openshift router to enable wildcard routing. More information can be found [here](4). With wildcard routing enabled, you don't have to manually create openshift routes for every API 3scale manages
5) Make sure you save all the credentials that were generated by the install

Alternate version:
1) To use the 3scale SaaS API Manager, sign up at [3scale.net](5)
2) The SaaS version includes an API gateway and that can be leveraged. However, ideally the API gateway should be running in the same cluster as your microservices
    1) Make sure you are `oc login`-ed
    2) Update the environment variables in 3scale-gateway-install.sh with the appropriate values. Retrieve the Access Token from
    Get the Access Token from Settings Widget->Personal->Tokens
    3) Run ./3scale-gateway-install.sh
    4) If your cluster allows wildcard routing or you have cluser admin rights to enable wildcard routing, comment out the commands in 3scale-gateway-install.sh to install the wildcard router.
    5) If your cluster doesn't allow wildcard routing, create individual routes for the APIs being managed.

[1]: TBD
[2]: https://github.com/3scale/3scale-istio-adapter
[3]: https://docs.openshift.com/container-platform/3.11/servicemesh-install/servicemesh-install.html#appendix_A
[4]: https://docs.openshift.com/container-platform/3.11/install_config/router/default_haproxy_router.html#using-wildcard-routes
[5]: https://3scale.net